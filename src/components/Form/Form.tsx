import React, { useState } from "react";
import "./form.scss";
import { Button } from "../Button/Button";
import { SubmitHandler, useForm } from "react-hook-form";
import { Modal } from "../Modal/Modal";
import { GiConfirmed } from "react-icons/gi";
import "./responsive.scss";
export const Form: React.FC = () => {
  interface IFormInput {
    name: string;
    phone: number;
  }
  const {
    register,
    handleSubmit,
    reset,
    formState: { errors },
  } = useForm<IFormInput>();
  const onSubmit: SubmitHandler<IFormInput> = () => {
    setActive(true);
    reset();
  };
  const [active, setActive] = useState(false);
  return (
    <section id="form-section" className="form-section">
      <div className="container">
        <div className="form-section__box">
          <form onSubmit={handleSubmit(onSubmit)} className="form">
            <div className="form__text">
              <h5>Остались вопросы?</h5>
              <p>Закажите обратный звонок и узнайте больше о наших услугах</p>
              <span>
                Оставьте заявку и наш менеджер перезвонит вам в течении 10 минут
              </span>
              <input
                {...register("name", {
                  required: true,
                  maxLength: 20,
                  pattern: /^([а-яё]+|[a-z]+)$/i,
                })}
                placeholder="Имя"
                className="input"
                type="text"
              />{" "}
              {errors?.name?.type === "required" && (
                <span className="error">Заполните поле</span>
              )}
              {errors?.name?.type === "pattern" && (
                <span className="error">Укажите, пожалуйста, имя</span>
              )}
              <input
                {...register("phone", {
                  required: true,
                  pattern:
                    /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,
                })}
                placeholder="Телефон"
                className="input"
                type="text"
              />
              {errors?.phone?.type === "required" && (
                <span className="error">Заполните поле</span>
              )}
              {errors?.phone?.type === "pattern" && (
                <span className="error">
                  Укажите, пожалуйста,номер телефона
                </span>
              )}
              <Button textColor="white">Отправить</Button>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="278"
                height="358"
                viewBox="0 0 278 358"
                fill="none"
                className="form__svg"
              >
                <path
                  d="M355.485 324.301L344.491 262.476C341.557 245.91 325.802 229.643 309.358 226.181L244.406 212.469C241.444 208.98 238.415 206.208 235.142 204.044C234.831 200.853 235.075 198.473 235.981 196.512C239.267 189.264 241.809 182.543 243.662 175.944C247.989 174.078 250.383 170.494 251.303 169.034C252.844 166.735 254.115 164.247 255.197 161.691C258.118 154.794 259.43 148.006 260.85 140.825C261.391 138.053 262.256 135.349 263.257 132.266L264.772 127.276C266.462 121.38 265.515 115.443 262.135 110.927C261.459 110.075 260.728 109.236 259.903 108.493C263.568 89.3715 261.567 71.0618 253.98 54.0908C244.122 32.0623 228.34 17.877 207.082 11.9811C199.292 9.79043 191.219 8.18123 183.064 7.19408L183.037 4.25965L180.495 4.13795C175.816 3.88101 171.151 3.8134 166.444 3.8134L161.292 3.84045C158.317 3.89454 155.247 4.20556 152.137 4.77351L148.918 0L136.355 8.15419C133.908 9.69578 131.46 11.2509 129.134 12.9412C125.915 15.3212 123.332 18.1475 121.439 21.3659C114.907 23.0562 108.876 26.3287 103.048 31.3727C102.236 32.0894 101.492 32.8466 100.505 34.0231L93.4732 42.6506L95.975 45.1523C93.5408 50.6831 92.8782 55.9705 94.0411 59.581C90.6603 75.1321 91.1878 91.0213 95.7316 109.453C93.108 111.995 91.4853 115.389 90.9308 119.568C90.1194 125.41 89.6461 133.09 93.2703 140.744C94.9337 144.26 96.002 147.938 97.3408 152.523L98.0981 155.092C99.0312 158.216 100.248 161.272 101.601 164.26C102.723 166.735 104.238 169.074 106.104 171.306C107.673 173.131 109.417 174.578 111.283 175.633C113.231 182.665 115.962 189.318 119.438 195.471C119.37 198.77 119.235 202.016 119.113 205.329L119.032 207.411C116.733 208.885 114.745 210.575 112.838 212.212L46.6693 226.154C30.2251 229.615 14.457 245.87 11.536 262.449L0.528136 324.274C-1.05408 333.118 1.05554 341.543 6.4513 348.02C11.8471 354.471 19.7717 357.986 28.7511 357.986H327.235C336.215 357.986 344.139 354.416 349.522 348.02C354.931 341.583 357.068 333.159 355.485 324.301ZM118.572 225.87L121.182 225.207L120.952 224.071C123.292 222.056 125.997 220.393 128.404 219C128.796 218.743 129.147 218.5 129.905 217.891C132.136 216.728 133.299 214.984 133.434 211.333L133.597 207.533C133.772 203.341 133.935 199.203 134.016 195.038C134.043 193.388 133.583 191.536 132.745 189.994C128.322 181.826 125.415 173.807 123.873 165.491L123.387 164.111L121.48 161.393L118.735 163.084C118.572 163.084 118.112 162.962 117.22 161.907C116.233 160.758 115.421 159.487 114.867 158.27C113.785 155.876 112.798 153.469 112.068 150.981L111.337 148.452C109.999 143.854 108.606 139.122 106.455 134.551C104.481 130.386 104.792 125.653 105.36 121.556C105.59 119.919 105.698 119.081 110.12 118.729L113.46 118.445L112.487 115.254C105.455 92.1842 104.616 74.172 109.796 56.863L108.078 56.2274C108.024 52.9819 110.35 47.4917 115.394 42.3125L114.407 40.9062C119.005 37.3632 123.738 35.3619 128.782 34.8074C130.365 34.6452 132.379 33.4011 132.853 31.6161C133.61 28.8439 135.206 26.5856 137.762 24.6924C139.668 23.2996 141.656 22.0285 143.658 20.7573L144.577 22.0961C150.474 19.8378 155.829 18.6208 160.9 18.4314L162.428 20.4869L165.092 20.541C178.02 20.7303 190.854 22.5423 203.201 26.0177C220.361 30.8047 232.641 41.9609 240.714 60.0949C248.152 76.6737 249.206 94.0233 243.959 113.144L243.392 115.146L242.959 117.688L245.42 118.499L247.827 118.635C248.679 118.635 249.869 118.837 250.572 119.757C251.194 120.595 251.303 121.853 250.856 123.354L249.45 128.006C248.382 131.36 247.327 134.686 246.529 138.729C245.339 144.855 244.203 150.643 241.85 156.133C241.12 157.85 240.281 159.568 239.253 161.123C238.415 162.394 238.023 162.638 238.063 162.665C237.955 162.651 237.455 162.529 236.008 161.569L232.627 159.23L231.423 165.22C229.747 173.185 226.92 181.448 222.769 190.562C219.482 197.797 220.416 205.464 222.174 212.401L223.431 214.118L224.216 214.484C226.42 215.565 228.529 217.107 230.937 219.446C232.127 220.582 233.317 221.718 234.358 223.043C234.642 223.381 234.926 223.706 235.372 224.179L235.278 225.45L243.73 227.235L196.195 282.76L187.906 254.795L201.835 244.545L178.034 227.033L154.219 244.517L168.175 254.781L160.197 281.678L112.257 227.262L118.572 225.87ZM338.406 338.717C335.836 341.813 331.874 343.504 327.262 343.504H270.14V310.657C270.14 306.668 266.895 303.409 262.865 303.409C258.862 303.409 255.603 306.668 255.603 310.657V343.504H100.411V310.657C100.411 306.668 97.1515 303.409 93.1486 303.409C89.1457 303.409 85.8731 306.668 85.8731 310.657V343.504H28.7646C24.1532 343.504 20.1909 341.813 17.608 338.717C15.025 335.62 14.0378 331.428 14.8492 326.884L25.8571 265.004C27.7774 254.173 38.907 242.705 49.685 240.434L95.9209 230.67L173.517 318.798C174.896 320.38 176.884 321.299 179.035 321.299C181.144 321.299 183.132 320.393 184.498 318.757L259.903 230.643L306.383 240.447C317.147 242.719 328.263 254.24 330.197 265.031L341.191 326.911C341.989 331.428 341.029 335.606 338.406 338.717Z"
                  fill="white"
                />
              </svg>
            </div>
          </form>
          <div className="form-section__text">
            <div className="form-section__desc">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="124"
                height="93"
                viewBox="0 0 124 93"
                fill="none"
                className="form-section__svg"
              >
                <path
                  d="M76.4922 0.488227C74.0654 0.505315 71.6558 0.624945 69.1094 1.30854C66.563 1.99213 64.0166 3.08588 61.3164 4.86323C57.9668 2.89789 54.7197 1.27436 51.6094 0.898383C47.7471 0.419867 44.1582 0.676216 39.9883 0.761664C35.0493 0.864205 31.8193 3.3935 26.5898 5.4101C21.3604 7.42671 14.627 9.37495 5.125 9.37495H0.75V51.4843L3.21094 52.7148L11.2773 56.6796L39.9883 88.6718L40.125 88.8085C43.4062 92.0556 47.8325 92.8588 51.7461 92.6367C55.6597 92.4145 59.334 91.2695 62.2734 89.4921C68.7334 85.5956 86.3359 73.3593 86.3359 73.3593L86.7461 73.0859L87.0195 72.8124C89.1045 70.7446 90.147 68.2153 90.8477 65.5664L107.664 57.0898L120.242 52.8515L123.25 51.8945V9.37495H118.875C109.39 9.37495 102.64 7.32416 97.4102 5.27338C92.1807 3.2226 89.002 0.727487 84.0117 0.624945C81.3457 0.573675 78.9189 0.471138 76.4922 0.488227ZM76.6289 9.23823C78.5942 9.22114 80.8672 9.32367 83.7383 9.37495C84.1997 9.39203 88.4038 11.1865 94.2656 13.4765C99.2217 15.4248 106.109 17.1508 114.5 17.7148V45.6054L104.383 49.0234H104.109L103.836 49.1601L90.5742 55.8593C89.8394 53.8598 88.8311 52.0141 87.293 50.3906L87.0195 49.9804L68.4258 27.1484L65.6914 23.7304L62.2734 26.4648L50.5156 36.0351C46.5679 38.7695 43.3721 37.9833 40.125 36.4453C39.1851 36.0009 39.2363 35.8642 38.4844 35.3515L58.4453 18.8085L58.7188 18.5351C64.6489 12.6562 68.2891 10.6225 71.4336 9.7851C73.0059 9.35786 74.6636 9.25531 76.6289 9.23823ZM46.1406 9.37495C47.8154 9.34077 49.2168 9.35786 50.5156 9.51166C51.6606 9.64838 52.9595 10.6225 54.0703 11.0156C53.626 11.4257 53.3013 11.665 52.8398 12.1093C52.7373 12.2119 52.6689 12.2802 52.5664 12.3828L28.6406 32.207L24.9492 35.2148L28.2305 38.6328C28.2305 38.6328 31.3921 42.0507 36.2969 44.3749C41.2017 46.6992 48.7725 48.0151 55.5742 43.2812L55.8477 43.0078L64.3242 36.0351L80.457 55.8593L80.5938 56.1328L80.7305 56.2695C83.6187 59.1235 83.5503 63.6181 80.7305 66.5234C80.6963 66.5576 80.7646 66.6259 80.7305 66.6601C80.6963 66.6772 80.1152 67.019 80.0469 67.0703L74.3047 59.2773L67.1953 64.4726L72.8008 71.9921C70.5278 73.5302 69.5024 74.3334 67.0586 75.957L61.1797 68.0273L54.0703 73.2226L59.6758 80.7421C59.1802 81.0498 58.1548 81.7334 57.7617 81.9726C56.3774 82.81 53.7114 83.7499 51.3359 83.8867C49.0972 84.0063 47.3882 83.4936 46.5508 82.7929L46.4141 82.6562L17.1562 50.2539L16.6094 49.5703L9.5 46.0156V17.7148C17.8569 17.1679 24.7954 15.5102 29.7344 13.6132C35.5791 11.3745 39.749 9.52875 40.2617 9.51166C42.5005 9.46039 44.4658 9.40913 46.1406 9.37495Z"
                  fill="white"
                />
              </svg>
              <h5>Хотите стать партнером?</h5>
              <p>
                Если вы хотите долговременное сотрудничество по предоставлению
                автоспецтехники и услуг в этой сфере – мы готовы с вами работать
                и нашей работой вы останетесь довольны! Наша компания всегда
                готова сотрудничать с организациями, если вам необходима
                техника, то мы готовы предоставить ее по партнерской программе с
                приятными условиями для вас.
              </p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="231"
                height="382"
                viewBox="0 0 231 382"
                fill="none"
                className="form-section__svg--two"
              >
                <path
                  d="M308.933 99.1528L226.032 5.70383C222.75 1.64083 218.687 0 213.843 0H17.1781C8.2708 0 0.926147 7.34465 0.926147 16.252V365.748C0.926147 374.655 8.2708 382 17.1781 382H296.822C305.729 382 312.292 374.655 313.074 366.529V109.779C312.996 105.716 311.433 102.434 308.933 99.1528ZM229.314 57.5071L261.114 93.5271H229.314V57.5071ZM280.492 350.355H33.4301V31.7226H197.591V108.92C197.591 117.827 204.936 125.172 213.843 125.172H280.492V350.355Z"
                  fill="white"
                />
                <path
                  d="M72.4193 183.694C72.4193 192.602 79.764 199.946 88.6713 199.946H225.251C234.158 199.946 241.503 192.602 241.503 183.694C241.503 174.787 234.158 167.442 225.251 167.442H88.6713C79.764 167.442 72.4193 174.787 72.4193 183.694Z"
                  fill="white"
                />
                <path
                  d="M225.251 268.236H88.6713C79.764 268.236 72.4193 275.581 72.4193 284.488C72.4193 293.396 79.764 300.74 88.6713 300.74H225.251C234.158 300.74 241.503 293.396 241.503 284.488C241.503 275.581 234.158 268.236 225.251 268.236Z"
                  fill="white"
                />
              </svg>
              <a className="form-section__link" href="#contacts">
                Связаться
              </a>
            </div>
          </div>
        </div>
      </div>
      <Modal active={active} setActive={setActive}>
        <GiConfirmed color={"green"} size={40} />
        <span>Спасибо! Данные успешно отправлены.</span>
      </Modal>
    </section>
  );
};
